-- liquibase formatted sql

-- changeset andre:1716910257855-1
CREATE TABLE DEPARTMENT
(
    ID   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    NAME VARCHAR(255),
    CONSTRAINT pk_department PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-2
CREATE TABLE EMPLOYEE
(
    ID            BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    FIRST_NAME    VARCHAR(255),
    LAST_NAME     VARCHAR(255),
    EMAIL         VARCHAR(255),
    PHONE_NUMBER  VARCHAR(255),
    HIRE_DATE     date,
    DEPARTMENT_ID BIGINT,
    CONSTRAINT pk_employee PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-3
CREATE TABLE INDIVIDUAL_SPONSOR
(
    ID    BIGINT NOT NULL,
    BADGE VARCHAR(255),
    CONSTRAINT pk_individual_sponsor PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-4
CREATE TABLE ORGANIZATION_SPONSOR
(
    ID    BIGINT NOT NULL,
    BADGE VARCHAR(255),
    CONSTRAINT pk_organization_sponsor PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-5
CREATE TABLE PROJECT
(
    ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    TITLE VARCHAR(255),
    TYPE  VARCHAR(255),
    DATE  date,
    CONSTRAINT pk_project PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-6
CREATE TABLE SPONSOR
(
    ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    NAME  VARCHAR(255),
    EMAIL VARCHAR(255),
    CONSTRAINT pk_sponsor PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-7
CREATE TABLE SPONSORSHIP
(
    ID             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    AMOUNT_OFFERED DOUBLE PRECISION,
    SPONSOR_ID     BIGINT,
    PROJECT_ID     BIGINT,
    CONSTRAINT pk_sponsorship PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-8
CREATE TABLE SUPPLY
(
    ID             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    DESCRIPTION    VARCHAR(255),
    QUANTITY       INTEGER,
    PRICE_PER_UNIT DOUBLE PRECISION,
    PROJECT_ID     BIGINT,
    CONSTRAINT pk_supply PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-9
CREATE TABLE TASK
(
    ID          BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    DESCRIPTION VARCHAR(255),
    DEADLINE    date,
    STATUS      VARCHAR(255),
    PROJECT_ID  BIGINT,
    EMPLOYEE_ID BIGINT,
    CONSTRAINT pk_task PRIMARY KEY (ID)
);

-- changeset andre:1716910257855-10
ALTER TABLE EMPLOYEE
    ADD CONSTRAINT FK_EMPLOYEE_ON_DEPARTMENT FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT (ID);

-- changeset andre:1716910257855-11
ALTER TABLE INDIVIDUAL_SPONSOR
    ADD CONSTRAINT FK_INDIVIDUAL_SPONSOR_ON_ID FOREIGN KEY (ID) REFERENCES SPONSOR (ID);

-- changeset andre:1716910257855-12
ALTER TABLE ORGANIZATION_SPONSOR
    ADD CONSTRAINT FK_ORGANIZATION_SPONSOR_ON_ID FOREIGN KEY (ID) REFERENCES SPONSOR (ID);

-- changeset andre:1716910257855-13
ALTER TABLE SPONSORSHIP
    ADD CONSTRAINT FK_SPONSORSHIP_ON_PROJECT FOREIGN KEY (PROJECT_ID) REFERENCES PROJECT (ID);

-- changeset andre:1716910257855-14
ALTER TABLE SPONSORSHIP
    ADD CONSTRAINT FK_SPONSORSHIP_ON_SPONSOR FOREIGN KEY (SPONSOR_ID) REFERENCES SPONSOR (ID);

-- changeset andre:1716910257855-15
ALTER TABLE SUPPLY
    ADD CONSTRAINT FK_SUPPLY_ON_PROJECT FOREIGN KEY (PROJECT_ID) REFERENCES PROJECT (ID);

-- changeset andre:1716910257855-16
ALTER TABLE TASK
    ADD CONSTRAINT FK_TASK_ON_EMPLOYEE FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE (ID);

-- changeset andre:1716910257855-17
ALTER TABLE TASK
    ADD CONSTRAINT FK_TASK_ON_PROJECT FOREIGN KEY (PROJECT_ID) REFERENCES PROJECT (ID);

